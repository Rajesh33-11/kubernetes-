<img width="651" height="373" alt="image" src="https://github.com/user-attachments/assets/85fb9a3d-5a6d-4b0b-9e3a-7a8e8dc33ecb" />

**Kubernetes Architecture has 2 Types of Nodes:**
1. Master Node
2. Worker Node


## Master Node Server Components

**Master Node Server has 4 Types of Components:**
1. API Server
2. Controller Manager (`kube-controller-manager`)
3. Scheduler (`kube-scheduler`)
4. ETCD

---

## Client

- The person who is managing Kubernetes
- The person who is interacting with Kubernetes is called the **Client**

---

## Master Node Components Explanation

### 1. API Server
- Acts as a bridge between:
  - Client ↔ Master Components
  - Component ↔ Component

---

### 2. Controller Manager (`kube-controller-manager`)
- Helps in **recreation of Pods**
- Controller Manager has 2 types:
  1. Replication Controller Manager (for Master Node)
  2. Node Controller Manager (for Worker Node)

---

### 3. Scheduler (`kube-scheduler`)
- Schedules the right Pod on the right Worker Node

---

### 4. ETCD
- Stores cluster data such as:
  - Number of Pods
  - Number of Nodes
- Data is stored in **Key-Value pair format**

---

## Worker Node Server Components

**Worker Node Server has 3 Types of Components:**
1. Kubelet
2. Kube-Proxy
3. Pods

> By default, Worker Node runs container workloads (Docker/Container Runtime)

---

### 1. Kubelet
- Sends Worker Node information to API Server, such as:
  - Number of Pods
  - CPU usage
  - RAM usage
  - Overall node status

---

### 2. Kube-Proxy
- Handles **networking** inside the cluster

---

### 3. Pods
- A Pod is a **group of containers**

### How to Setup K8S Cluster: 
## Rerequirements:
#### -CREATE EC2 USING AMAZON-LINUX-AMI WITH 25 GB EBS AND INSTANCE_TYPE BE M7I-FLUX.LARGE(Eg: 2 CPUS,  4GB RAM),
#### -CREATE IAM ROLE WITH ADMIN ACCESS ADD THE ROLE TO YOUR  EC2 SERVER

====================================================================
kOps Installation – Command Explanation Notes

The following commands are used to download, install, and verify kOps (Kubernetes Operations) on a Linux system.
kOps is widely used to create and manage Kubernetes clusters, especially on AWS.

Step 1: Download the Latest kOps Binary
curl -Lo kops https://github.com/kubernetes/kops/releases/download/$(curl -s https://api.github.com/repos/kubernetes/kops/releases/latest | grep tag_name | cut -d '"' -f 4)/kops-linux-amd64

Explanation

curl
Command-line tool used to download files from URLs.

-L
Follows HTTP redirects (required for GitHub release URLs).

-o kops
Saves the downloaded file with the name kops.

Inner curl command:

Fetches the latest release details from the GitHub API.

grep tag_name extracts the release tag (example: v1.29.0).

cut -d '"' -f 4 isolates the version value.

kops-linux-amd64
Specifies the Linux 64-bit kOps binary.

Result:
The latest stable kOps binary is downloaded to the current directory.

Step 2: Grant Execute Permission
chmod +x kops

Explanation

chmod
Changes file permissions.

+x
Adds execute permission to the file.

Why this is required:
Linux does not allow a file to be executed unless it has execute permission.

Step 3: Move kOps to a System-Wide Path
sudo mv kops /usr/local/bin/kops

Explanation

sudo
Executes the command with root privileges.

mv
Moves the binary file.

/usr/local/bin
A standard directory included in the system $PATH.

Benefit:
The kops command can be executed from any directory without specifying the full path.

Step 4: Verify the Installation
kops version

Explanation

Displays the installed kOps version.

Confirms that kOps is correctly installed and accessible.

Expected Output:

Version x.xx.x (git-commit-id)

Summary

Automatically downloads the latest kOps version

Applies required execute permissions

Installs kOps globally

Verifies successful installation

This is the recommended and production-safe approach to install kOps on Linux systems.





curl -Lo kops https://github.com/kubernetes/kops/releases/download/$(curl -s   https://api.github.com/repos/kubernetes/kops/releases/latest | grep tag_name | cut -d '"' -f 4)/kops-linux-amd64
chmod +x kops
sudo mv kops /usr/local/bin/kops
kops version
curl -LO "https://dl.k8s.io/release/$(curl -L -s  https://dl.k8s.io/release/stable.txt)/bin/linux/amd64/kubectl"
chmod +x kubectl 
mv kubectl /usr/local/bin/

kubectl version
aws s3 mb s3://7aamdevopsshammuk8s.k8s.locals
aws s3api put-bucket-versioning --bucket 7aamdevopsshammuk8s.k8s.locals --region ap-south-1 --versioning-configuration Status=Enabled
export KOPS_STATE_STORE=s3://7aamdevopsshammuk8s.k8s.locals
kops create cluster --name=shammu.k8s.local --zones=ap-northeast-3a --control-plane-size=m7i-flex.large --control-plane-count=1 --node-count=2 --node-size=t3.micro --image=ami-0fe4e90accd5cc34a
kops update cluster --name shammu.k8s.local --yes --admin
==================================================================
kops delete cluster --name shammu.k8s.local --yes
